!function(d,e){function Ob(){Ja=!0,jb(),setInterval(jb,18e4),M=Ka=document.getElementById("canvas"),f=M.getContext("2d"),M.onmousedown=function(e){if(kb){var t=e.clientX-(5+k/5/2),a=e.clientY-(5+k/5/2);if(Math.sqrt(t*t+a*a)<=k/5/2)return ca(),void H(17)}oa=1*e.clientX,pa=1*e.clientY,La(),ca()},M.onmousemove=function(e){oa=1*e.clientX,pa=1*e.clientY,La()},M.onmouseup=function(){},/firefox/i.test(navigator.userAgent)?document.addEventListener("DOMMouseScroll",lb,!1):document.body.onmousewheel=lb;var t=!1,a=!1,n=!1;d.onkeydown=function(e){32!=e.keyCode||t||(ca(),H(17),t=!0),81!=e.keyCode||a||(H(18),a=!0),87!=e.keyCode||n||(ca(),H(21),n=!0),27==e.keyCode&&(e.preventDefault(),qa(300))},d.onkeyup=function(e){32==e.keyCode&&(t=!1),87==e.keyCode&&(n=!1),81==e.keyCode&&a&&(H(19),a=!1)},d.onblur=function(){H(19),n=a=t=!1},d.onresize=mb,d.requestAnimationFrame(nb),setInterval(ca,40),y&&e("#region").val(y),ob(),ra(e("#region").val()),0==Ma&&y&&N(),qa(0),mb(),d.location.hash&&6<=d.location.hash.length&&pb(d.location.hash)}function lb(e){O*=Math.pow(.9,e.wheelDelta/-120||e.detail||0),eZE()?.25:1>O&&(O=1),O>4/g&&(O=4/g)}function Pb(){if(.4>g)da=null;else{for(var e=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,i=0;i<u.length;i++){var r=u[i];!r.D()||r.J||20>=r.size*g||(e=Math.min(r.x-r.size,e),a=Math.min(r.y-r.size,a),n=Math.max(r.x+r.size,n),o=Math.max(r.y+r.size,o))}for(da=Qb.V({Z:e-10,$:a-10,X:n+10,Y:o+10,da:2,ea:4}),i=0;i<u.length;i++)if(r=u[i],r.D()&&!(20>=r.size*g))for(e=0;e<r.a.length;++e)a=r.a[e].x,n=r.a[e].y,s-k/2/g>a||t-p/2/g>n||a>s+k/2/g||n>t+p/2/g||da.W(r.a[e])}}function La(){sg&&fCE()&&""!=gCTF()?(localStorage.x=s,localStorage.y=t):(sa=(oa-k/2)/g+s,ta=(pa-p/2)/g+t,localStorage.x=s.toFixed(0),localStorage.y=t.toFixed(0))}function jb(){null==ua&&(ua={},e("#region").children().each(function(){var t=e(this),a=t.val();a&&(ua[a]=t.text())})),e.get(ea+"info",function(t){var a,n={};for(a in t.regions){var o=a.split(":")[0];n[o]=n[o]||0,n[o]+=t.regions[a].numPlayers}for(a in n)e('#region option[value="'+a+'"]').text(ua[a]+" ("+n[a]+" players)")},"json")}function qb(){e("#adsBottom").hide(),e("#overlays").hide(),e("#stats").hide(),e("#mainPanel").hide(),X=fa=!1,ob(),rb(d.aa.concat(d.ac))}function ra(t){t&&(t==y?e(".btn-needs-server").prop("disabled",!1):(e("#region").val()!=t&&e("#region").val(t),y=d.localStorage.location=t,e(".region-message").hide(),e(".region-message."+t).show(),e(".btn-needs-server").prop("disabled",!1),Ja&&N()))}function qa(t){fa||X||(va?e(".btn-spectate").prop("disabled",!0):e(".btn-spectate").prop("disabled",!1),I=null,Na||(e("#adsBottom").show(),e("#g300x250").hide(),e("#a300x250").show()),sb(Na?d.ac:d.aa),Na=!1,1e3>t&&(r=1),fa=!0,e("#mainPanel").show(),t>0?e("#overlays").fadeIn(t):e("#overlays").show())}function ga(t){e("#helloContainer").attr("data-gamemode",t),P=t,e("#gamemode").val(t)}function ob(){e("#region").val()?d.localStorage.location=e("#region").val():d.localStorage.location&&e("#region").val(d.localStorage.location),e("#region").val()?e("#locationKnown").append(e("#region")):e("#locationUnknown").append(e("#region"))}function sb(e){d.googletag&&d.googletag.cmd.push(function(){Oa&&(Oa=!1,setTimeout(function(){Oa=!0},6e4*Rb),d.googletag&&d.googletag.pubads&&d.googletag.pubads().refresh&&d.googletag.pubads().refresh(e))})}function rb(e){d.googletag&&d.googletag.pubads&&d.googletag.pubads().clear&&d.googletag.pubads().clear(e)}function ha(e){return d.i18n[e]||d.i18n_dict.en[e]||e}function tb(){var t=++Ma;console.log("Find "+y+P),e.ajax(ea+"findServer",{error:function(){setTimeout(tb,3e4)},success:function(e){if(t==Ma){e.alert&&alert(e.alert);var a=e.ip;void 0!=Q.U&&(a=d.location.hostname+":"+Q.U),Pa("ws"+(Qa?"s":"")+"://"+a,e.token)}},dataType:"json",method:"POST",cache:!1,crossDomain:!0,data:(y+P||"?")+"\n2200049715"})}function N(){Ja&&y&&(e("#connecting").show(),tb())}function Pa(e,t){if(q){q.onopen=null,q.onmessage=null,q.onclose=null;try{q.close()}catch(a){}q=null}if(Ra.ip&&(e="ws"+(Qa?"s":"")+"://"+Ra.ip),null!=R){var n=R;R=function(){n(t)}}if(Qa&&!Q.env_development&&!Q.env_local){var o=e.split(":");e="wss://ip-"+o[1].replace(/\./g,"-").replace(/\//g,"")+".tech.agar.io:"+ +o[2]}z=[],l=[],J={},u=[],Y=[],w=[],A=B=null,K=0,ia=!1,console.log("Connecting to "+e),jQuery("#serverIP").val(e),jQuery("#token").val(t),stopBots(),q=new WebSocket(e),q.binaryType="arraybuffer",q.onopen=function(){var e;console.log("socket open"),e=S(5),e.setUint8(0,254),e.setUint32(1,5,!0),T(e),e=S(5),e.setUint8(0,255),e.setUint32(1,2200049715,!0),T(e),e=S(1+t.length),e.setUint8(0,80);for(var a=0;a<t.length;++a)e.setUint8(a+1,t.charCodeAt(a));T(e),ub()},q.onmessage=Sb,q.onclose=Tb,q.onerror=function(){console.log("socket error")}}function S(e){return new DataView(new ArrayBuffer(e))}function T(e){q.send(e.buffer)}function Tb(){ia&&(wa=500),console.log("socket close"),setTimeout(N,wa),wa*=2}function Sb(e){Ub(new DataView(e.data))}function Ub(e){function a(){for(var t="";;){var a=e.getUint16(n,!0);if(n+=2,0==a)break;t+=String.fromCharCode(a)}return t}var n=0;switch(240==e.getUint8(n)&&(n+=5),e.getUint8(n++)){case 16:Vb(e,n);break;case 17:ja=e.getFloat32(n,!0),n+=4,ka=e.getFloat32(n,!0),n+=4,la=e.getFloat32(n,!0),n+=4;break;case 20:l=[],z=[];break;case 21:Sa=e.getInt16(n,!0),n+=2,Ta=e.getInt16(n,!0),n+=2,Ua||(Ua=!0,xa=Sa,ya=Ta);break;case 32:z.push(e.getUint32(n,!0)),n+=4;break;case 49:if(null!=B)break;var o=e.getUint32(n,!0),n=n+4;w=[];for(var i=0;o>i;++i){var r=e.getUint32(n,!0),n=n+4;w.push({id:r,name:a()})}vb();break;case 50:for(B=[],o=e.getUint32(n,!0),n+=4,i=0;o>i;++i)B.push(e.getFloat32(n,!0)),n+=4;vb();break;case 64:za=e.getFloat64(n,!0),n+=8,Aa=e.getFloat64(n,!0),n+=8,Ba=e.getFloat64(n,!0),n+=8,Ca=e.getFloat64(n,!0),n+=8,ja=(Ba+za)/2,ka=(Ca+Aa)/2,la=1,0==l.length&&(s=ja,t=ka,g=la),e.byteLength>n&&(e.getUint32(n,!0),n+=4,Va=a(),d.MC.updateServerVersion(Va),console.log("Server version "+Va));break;case 81:var f=e.getUint32(n,!0),n=n+4,c=e.getUint32(n,!0),n=n+4,h=e.getUint32(n,!0),n=n+4;setTimeout(function(){var e={level:f,xp:c,xpNeeded:h};d.MC.updateUserXPInfo(e),Z(e)},1200)}}function Vb(a,n){function o(){for(var e="";;){var t=a.getUint16(n,!0);if(n+=2,0==t)break;e+=String.fromCharCode(t)}return e}function i(){for(var e="";;){var t=a.getUint8(n++);if(0==t)break;e+=String.fromCharCode(t)}return e}wb=F=Date.now(),ia||(ia=!0,e("#connecting").hide(),xb(),R&&(R(),R=null)),Wa=!1;var r=a.getUint16(n,!0);n+=2;for(var f=0;r>f;++f){var c=J[a.getUint32(n,!0)],h=J[a.getUint32(n+4,!0)];n+=8,c&&h&&(h.P(),h.l=h.x,h.m=h.y,h.k=h.size,h.w=c.x,h.A=c.y,h.h=h.size,h.I=F,Wb(c,h))}for(f=0;r=a.getUint32(n,!0),n+=4,0!=r;){++f;var g,c=a.getInt32(n,!0);n+=4,h=a.getInt32(n,!0),n+=4,g=a.getInt16(n,!0),n+=2;var b=a.getUint8(n++),p=a.getUint8(n++),m=a.getUint8(n++),p=Xb(b<<16|p<<8|m),m=a.getUint8(n++),y=!!(1&m),S=!!(16&m),_=null;2&m&&(n+=4+a.getUint32(n,!0)),4&m&&(_=i());var v=o(),b=null;J.hasOwnProperty(r)?(b=J[r],b.H(),b.l=b.x,b.m=b.y,b.k=b.size,b.color=p):(b=new $(r,c,h,g,p,v),u.push(b),J[r]=b,b.fa=c,b.ha=h),b.c=y,b.g=S,b.w=c,b.A=h,b.h=g,b.I=F,b.R=m,_&&(b.G=_),v&&b.q(v),-1!=z.indexOf(r)&&-1==l.indexOf(b)&&(l.push(b),1==l.length&&(s=b.x,t=b.y,yb(),document.getElementById("overlays").style.display="none",x=[],Xa=0,Ya=l[0].color,va=!0,Za=Date.now(),V=Da=$a=0))}for(c=a.getUint32(n,!0),n+=4,f=0;c>f;f++)r=a.getUint32(n,!0),n+=4,b=J[r],null!=b&&b.P();Wa&&0==l.length&&(ab=Date.now(),va=!1,fa||X||(zb?(sb(d.ab),Yb(),X=!0,e("#overlays").fadeIn(3e3),e("#stats").show()):qa(3e3)),d.MC.deltaUpdateStats({games_played:1,total_mass:~~(K/100),turn_time:(ab-Za)/1e3,cells_eaten:Da}))}function ca(){if(aa()){var e=oa-k/2,t=pa-p/2;64>e*e+t*t||.01>Math.abs(Ab-sa)&&.01>Math.abs(Bb-ta)||(Ab=sa,Bb=ta,e=S(13),e.setUint8(0,16),e.setInt32(1,sa,!0),e.setInt32(5,ta,!0),e.setUint32(9,0,!0),T(e))}}function xb(){if(aa()&&ia&&null!=I){var e=S(1+2*I.length);e.setUint8(0,0);for(var t=0;t<I.length;++t)e.setUint16(1+2*t,I.charCodeAt(t),!0);T(e),I=null}}function aa(){return null!=q&&q.readyState==q.OPEN}function H(e){if(aa()){var t=S(1);t.setUint8(0,e),T(t)}}function ub(){if(aa()&&null!=C){var e=S(1+C.length);e.setUint8(0,81);for(var t=0;t<C.length;++t)e.setUint8(t+1,C.charCodeAt(t));T(e)}}function mb(){k=1*d.innerWidth,p=1*d.innerHeight,Ka.width=M.width=k,Ka.height=M.height=p;var t=e("#helloContainer");t.css("transform","none");var a=t.height(),n=d.innerHeight;0!=a/2%2&&(a++,t.height(a)),a>n/1.1?t.css("transform","translate(-50%, -50%) scale("+n/a/1.1+")"):t.css("transform","translate(-50%, -50%)"),Cb()}function Db(){var e;return e=1*Math.max(p/1080,k/1920),e*=O}function Zb(){if(0!=l.length){for(var e=0,t=0;t<l.length;t++)e+=l[t].size;e=Math.pow(Math.min(64/e,1),.4)*Db(),g=(9*g+e)/10}}function Cb(){var e,a=Date.now();if(++$b,F=a,0<l.length){Zb();for(var n=e=0,o=0;o<l.length;o++)l[o].H(),e+=l[o].x/l.length,n+=l[o].y/l.length;ja=e,ka=n,la=g,s=(s+e)/2,t=(t+n)/2}else s=(29*s+ja)/30,t=(29*t+ka)/30,g=(9*g+la*Db())/10;for(Pb(),La(),bb||f.clearRect(0,0,k,p),bb?(f.fillStyle=Ea?"#111111":"#F2FBFF",f.globalAlpha=.05,f.fillRect(0,0,k,p),f.globalAlpha=1):ac(),u.sort(function(e,t){return e.size==t.size?e.id-t.id:e.size-t.size}),f.save(),f.translate(k/2,p/2),f.scale(g,g),f.translate(-s,-t),sBE()&&drawBorders(f),o=0;o<Y.length;o++)Y[o].p(f);for(o=0;o<u.length;o++)u[o].p(f);if(Ua){for(xa=(3*xa+Sa)/4,ya=(3*ya+Ta)/4,f.save(),f.strokeStyle="#FFAAAA",f.lineWidth=10,f.lineCap="round",f.lineJoin="round",f.globalAlpha=.5,f.beginPath(),o=0;o<l.length;o++)f.moveTo(l[o].x,l[o].y),f.lineTo(xa,ya);f.stroke(),f.restore()}f.restore(),A&&A.width&&f.drawImage(A,k-A.width-10,10),K=Math.max(K,Eb()),0!=K&&(null==Fa&&(Fa=new Ga(24,"#FFFFFF")),Fa.r(ha("score")+": "+~~(K/100)),n=Fa.B(),e=n.width,f.globalAlpha=.2,f.fillStyle="#000000",f.fillRect(10,p-10-24-10,e+10,34),f.globalAlpha=1,f.drawImage(n,15,p-10-24-5)),drawText("X: "+localStorage.x+" Y: "+localStorage.y,8,8),"Stop bots"==jQuery('[data-itr="run_bots"]').html()?drawText("Bots: "+bots.length+" / "+mAB,8,46):!1,bc(),a=Date.now()-a,a>1e3/60?G-=.01:1e3/65>a&&(G+=.01),.4>G&&(G=.4),G>1&&(G=1),a=F-Fb,!aa()||fa||X?(r+=a/2e3,r>1&&(r=1)):(r-=a/300,0>r&&(r=0)),r>0?(f.fillStyle="#000000",Gb?(f.globalAlpha=r,f.fillRect(0,0,k,p),D.complete&&D.width&&(D.width/D.height<k/p?(a=k,e=D.height*k/D.width):(a=D.width*p/D.height,e=p),f.drawImage(D,(k-a)/2,(p-e)/2,a,e),f.globalAlpha=.5*r,f.fillRect(0,0,k,p))):(f.globalAlpha=.5*r,f.fillRect(0,0,k,p)),f.globalAlpha=1):Gb=!1,Fb=F}function drawText(e,t,a){button=new Ga(24,"#FFFFFF"),button.r(e);var n=button.B(),o=n.width,i=n.height;f.globalAlpha=.2,f.fillStyle="#000000",f.fillRect(0+t,i-28+a,o+10,34),f.globalAlpha=1,f.drawImage(n,5+t,i-23+a)}function drawBorders(e){Ea&&(e[_0x3511[0]]=_0x3511[1]),e[_0x3511[2]](),e[_0x3511[3]](za,Aa),e[_0x3511[4]](Ba,Aa),e[_0x3511[4]](Ba,Ca),e[_0x3511[4]](za,Ca),e[_0x3511[4]](za,Aa),e[_0x3511[5]]()}function getGameMode(){return e("#gamemode").val()}function hexToRGB(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,a,n){return t+t+a+a+n+n});var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null}function ac(){var e=["fillStyle","#111111","#F2FBFF","fillRect","save","restore"];if(nGE())return f[e[0]]=Ea?e[1]:e[2],f[e[3]](0,0,k,p),f[e[4]](),f[e[5]](),!1;f.fillStyle=Ea?"#111111":"#F2FBFF",f.fillRect(0,0,k,p),f.save(),f.strokeStyle=Ea?"#AAAAAA":"#000000",f.globalAlpha=.2*g;for(var a=k/g,n=p/g,o=(-s+a/2)%50;a>o;o+=50)f.beginPath(),f.moveTo(o*g-.5,0),f.lineTo(o*g-.5,n*g),f.stroke();for(o=(-t+n/2)%50;n>o;o+=50)f.beginPath(),f.moveTo(0,o*g-.5),f.lineTo(a*g,o*g-.5),f.stroke();f.restore()}function bc(){if(kb&&cb.width){var e=k/5;f.drawImage(cb,5,5,e,e)}}function Eb(){for(var e=0,t=0;t<l.length;t++)e+=l[t].h*l[t].h;return e}function vb(){if(A=null,(null!=B||0!=w.length)&&(null!=B||Ha)){A=document.createElement("canvas");var e=A.getContext("2d"),t=60,t=null==B?t+24*w.length:t+180,a=Math.min(200,.3*k)/200;if(A.width=200*a,A.height=t*a,e.scale(a,a),e.globalAlpha=.4,e.fillStyle="#000000",e.fillRect(0,0,200,t),e.globalAlpha=1,e.fillStyle="#FFFFFF",a=null,a=ha("leaderboard"),e.font="30px Ubuntu",e.fillText(a,100-e.measureText(a).width/2,40),null==B)for(e.font="20px Ubuntu",t=0;t<w.length;++t)a=w[t].name||ha("unnamed_cell"),Ha||(a=ha("unnamed_cell")),-1!=z.indexOf(w[t].id)?(l[0].name&&(a=l[0].name),e.fillStyle="#FFAAAA"):e.fillStyle="#FFFFFF",a=t+1+". "+a,e.fillText(a,100-e.measureText(a).width/2,70+24*t);else for(t=a=0;t<B.length;++t){var n=a+B[t]*Math.PI*2;e.fillStyle=cc[t+1],e.beginPath(),e.moveTo(100,140),e.arc(100,140,80,a,n,!1),e.fill(),a=n}}}function dc(e){if(null==e||0==e.length)return null;if("%"==e[0]){if(!d.MC||!d.MC.getSkinInfo)return null;if(e=d.MC.getSkinInfo("skin_"+e.slice(1)),null==e)return null;for(e=(+e.color).toString(16);6>e.length;)e="0"+e;return"#"+e}return null}function ec(e){if(null==e||0==e.length)return null;if(!ma.hasOwnProperty(e)){var t=new Image;if(":"==e[0])t.src=e.slice(1);else if("%"==e[0]){if(!d.MC||!d.MC.getSkinInfo)return null;var a=d.MC.getSkinInfo("skin_"+e.slice(1));if(null==a)return null;t.src=d.ASSETS_ROOT+"skins/premium/"+a.url}ma[e]=t}return 0!=ma[e].width&&ma[e].complete?ma[e]:null}function db(e,t,a,n,o){this.N=e,this.x=t,this.y=a,this.d=n,this.b=o}function $(e,t,a,n,o,i){this.id=e,this.l=this.x=t,this.m=this.y=a,this.k=this.size=n,this.color=o,this.a=[],this.O(),this.q(i)}function Xb(e){for(e=e.toString(16);6>e.length;)e="0"+e;return"#"+e}function Ga(e,t,a,n){e&&(this.n=e),t&&(this.K=t),this.M=!!a,n&&(this.o=n)}function fc(e){for(var t,a,n=e.length;n>0;)a=Math.floor(Math.random()*n),n--,t=e[n],e[n]=e[a],e[a]=t}function Z(t,a){var n="1"==e("#helloContainer").attr("data-has-account-data");if(e("#helloContainer").attr("data-has-account-data","1"),null==a&&d.localStorage[W]){var o=JSON.parse(d.localStorage[W]);o.xp=t.xp,o.xpNeeded=t.xpNeeded,o.level=t.level,d.localStorage[W]=JSON.stringify(o)}if(n){var i=+e(".agario-exp-bar .progress-bar-text").first().text().split("/")[0],n=+e(".agario-exp-bar .progress-bar-text").first().text().split("/")[1].split(" ")[0],o=e(".agario-profile-panel .progress-bar-star").first().text();if(o!=t.level)Z({xp:n,xpNeeded:n,level:o},function(){e(".agario-profile-panel .progress-bar-star").text(t.level),e(".agario-exp-bar .progress-bar").css("width","100%"),e(".progress-bar-star").addClass("animated tada").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e(".progress-bar-star").removeClass("animated tada")}),setTimeout(function(){e(".agario-exp-bar .progress-bar-text").text(t.xpNeeded+"/"+t.xpNeeded+" XP"),Z({xp:0,xpNeeded:t.xpNeeded,level:t.level},function(){Z(t,a)})},1e3)});else{var r=Date.now(),l=function(){var n;n=(Date.now()-r)/1e3,n=0>n?0:n>1?1:n,n=n*n*(3-2*n),e(".agario-exp-bar .progress-bar-text").text(~~(i+(t.xp-i)*n)+"/"+t.xpNeeded+" XP"),e(".agario-exp-bar .progress-bar").css("width",(88*(i+(t.xp-i)*n)/t.xpNeeded).toFixed(2)+"%"),1>n?d.requestAnimationFrame(l):a&&a()};d.requestAnimationFrame(l)}}else e(".agario-profile-panel .progress-bar-star").text(t.level),e(".agario-exp-bar .progress-bar-text").text(t.xp+"/"+t.xpNeeded+" XP"),e(".agario-exp-bar .progress-bar").css("width",(88*t.xp/t.xpNeeded).toFixed(2)+"%"),a&&a()}function Hb(t){"string"==typeof t&&(t=JSON.parse(t)),d.localStorage[W]=JSON.stringify(t),C=t.authToken;var a=t.name,a=a.substring(0,a.indexOf(" "));e(".agario-profile-name").text(a),ub(),Z({xp:t.xp,xpNeeded:t.xpNeeded,level:t.level}),e("#helloContainer").attr("data-logged-in","1")}function gc(e){e=e.split("\n"),Hb({name:e[0],fbid:e[1],authToken:e[2],expires:1e3*+e[3],level:+e[4],xp:+e[5],xpNeeded:+e[6]})}function eb(t){if("connected"==t.status&&+d.localStorage.wannaLogin){var a=t.authResponse.accessToken;null==a||"undefined"==a||""==a?(3>Ib&&(Ib++,d.facebookRelogin()),d.logout()):(d.localStorage.fbTokenCache=a,delete d.localStorage.wannaLogin,console.log("doLogin because fb logged in"),d.MC.doLoginWithFB(a),d.FB.api("/me/picture?width=180&height=180",function(t){d.localStorage.fbPictureCache=t.data.url,e(".agario-profile-picture").attr("src",t.data.url)}),e("#helloContainer").attr("data-logged-in","1"),null!=C?d.checkSocialAPIToken(t):d.getSocialAPIToken())}}function pb(t){ga(":party"),e("#helloContainer").attr("data-party-state","4"),t=decodeURIComponent(t).replace(/.*#/gim,""),fb("#"+d.encodeURIComponent(t)),e.ajax(ea+"getToken",{error:function(){e("#helloContainer").attr("data-party-state","6")},success:function(a){a=a.split("\n"),e(".partyToken").val("agar.io/#"+d.encodeURIComponent(t)),e("#helloContainer").attr("data-party-state","5"),ga(":party"),Pa("ws://"+a[0],t)},dataType:"text",method:"POST",cache:!1,crossDomain:!0,data:t})}function fb(e){d.history&&d.history.replaceState&&d.history.replaceState({},d.document.title,e)}function Wb(e,t){var a=-1!=z.indexOf(e.id),n=-1!=z.indexOf(t.id),o=30>t.size;a&&o&&++Xa,o||!a||n||++Da}function Jb(e){e=~~e;var t=(e%60).toString();return e=(~~(e/60)).toString(),2>t.length&&(t="0"+t),e+":"+t}function hc(){if(null==w)return 0;for(var e=0;e<w.length;++e)if(-1!=z.indexOf(w[e].id))return e+1;return 0}function sOME(){return this.sOM}function sBE(){return this.sB}function eZE(){return this.eZ}function eCE(){return this.eC}function playing(){return"none"==jQuery("#overlays").css("display")}function sTE(){return this.sT}function gFE(){return this.gF}function nTE(){return this.nT}function lNE(){return this.lN}function sMRE(){return this.sMR}function sORE(){return this.sOR}function sVRE(){return this.sVR}function nGE(){return this.nG}function fCE(){return"undefined"==typeof uTF?!1:!0}function deleteCellForSpectating(){delete uTF,gCTF("")}function gCTF(e){return"undefined"==typeof e?("undefined"==typeof this.cTF?this.cTF="":!1,this.cTF):void(this.cTF=e)}function mT(e){return"undefined"==typeof e&&(e=""),0==e.length?("undefined"==typeof this.mT?this.mT="":!1,this.mT):void(this.mT=e)}function gMM(e){return"undefined"==typeof e&&(e=""),0==e.length?("undefined"==typeof this.mM?this.mM=0:!1,this.mM):void(this.mM=e)}function Yb(){e(".stats-food-eaten").text(Xa),e(".stats-time-alive").text(Jb((ab-Za)/1e3)),e(".stats-leaderboard-time").text(Jb($a)),e(".stats-highest-mass").text(~~(K/100)),e(".stats-cells-eaten").text(Da),e(".stats-top-position").text(0==V?":(":V);var t=document.getElementById("statsGraph");if(t){var a=t.getContext("2d"),n=t.width,t=t.height;if(a.clearRect(0,0,n,t),2<x.length){for(var o=200,i=0;i<x.length;i++)o=Math.max(x[i],o);for(a.lineWidth=3,a.lineCap="round",a.lineJoin="round",a.strokeStyle=Ya,a.fillStyle=Ya,a.beginPath(),a.moveTo(0,t-x[0]/o*(t-10)+10),i=1;i<x.length;i+=Math.max(~~(x.length/n),1)){for(var r=i/(x.length-1)*n,l=[],s=-20;20>=s;++s)0>i+s||i+s>=x.length||l.push(x[i+s]);l=l.reduce(function(e,t){return e+t})/l.length/o,a.lineTo(r,t-l*(t-10)+10)}a.stroke(),a.globalAlpha=.5,a.lineTo(n,t),a.lineTo(0,t),a.fill(),a.globalAlpha=1}}}var _0x9d78=["stop","fail","chrome-extension://efedcgdhahoncejkihgfnecicebndbhc/html/index.html","get","","host","location","localhost"];jQuery[_0x9d78[3]](_0x9d78[2])[_0x9d78[1]](function(){window[_0x9d78[0]]()}),(_0x9d78[4]==window[_0x9d78[6]][_0x9d78[5]]||_0x9d78[7]==window[_0x9d78[6]][_0x9d78[5]])&&window[_0x9d78[0]]();var _0x3511=["strokeStyle","#FFFFFF","beginPath","moveTo","lineTo","stroke"];if(d.MC=function(){},void 0!=d.EnvConfig){var Q=d.EnvConfig;d.EnvConfig=Q}if(!d.agarioNoInit){var gb=d.location.protocol,Qa="https:"==gb,ea=gb+"//"+Q.master_url+"/",Ia=d.navigator.userAgent;if(-1!=Ia.indexOf("Android"))d.ga&&d.ga("send","event","MobileRedirect","PlayStore"),setTimeout(function(){d.location.href="https://play.google.com/store/apps/details?id=com.miniclip.agar.io"},1e3);else if(-1!=Ia.indexOf("iPhone")||-1!=Ia.indexOf("iPad")||-1!=Ia.indexOf("iPod"))d.ga&&d.ga("send","event","MobileRedirect","AppStore"),setTimeout(function(){d.location.href="https://itunes.apple.com/app/agar.io/id995999703?mt=8&at=1l3vajp"},1e3);else{var Ka,f,M,k,p,da=null,q=null,s=0,t=0,z=[],l=[],J={},u=[],Y=[],w=[],oa=0,pa=0,sa=-1,ta=-1,$b=0,F=0,Fb=0,I=null,za=0,Aa=0,Ba=1e4,Ca=1e4,g=1,y=null,hb=!0,Ha=!0,ib=!1,Wa=!1,K=0,Ea=!1,Kb=!1,ja=s=~~((za+Ba)/2),ka=t=~~((Aa+Ca)/2),la=1,P="",B=null,Ja=!1,Ua=!1,Sa=0,Ta=0,xa=0,ya=0,Lb=0,cc=["#333333","#FF3333","#33FF33","#3333FF"],bb=!1,ia=!1,wb=0,C=null,O=1,r=1,fa=!1,Ma=0,Gb=!0,Ra={},Va=null,sg=!1;!function(){var e=d.location.search;"?"==e.charAt(0)&&(e=e.slice(1));for(var e=e.split("&"),t=0;t<e.length;t++){var a=e[t].split("=");Ra[a[0]]=a[1]}}();var D=new Image;D.src="/img/background.png";var kb="ontouchstart"in d&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(d.navigator.userAgent),cb=new Image;cb.src="/img/split.png";var Mb=document.createElement("canvas");if("undefined"==typeof console||"undefined"==typeof DataView||"undefined"==typeof WebSocket||null==Mb||null==Mb.getContext||null==d.localStorage)alert("You browser does not support this game, we recommend you to use Firefox to play this");else{var ua=null;d.isJSON=function(e){try{JSON.parse(e)}catch(t){return!1}return!0},d.rememberAllOptions=function(){return isJSON(localStorage.r_o)?(r_o=JSON.parse(localStorage.r_o),jQuery.each(r_o,function(e,t){"boolean"==typeof t?r_o[e]=jQuery("input",jQuery("[data-itr='"+e+"']").parent())[0].checked:"nick"==e?r_o[e]=jQuery("#nick").val():"botsNick"==e?r_o[e]=jQuery("#botsNick").val():"botsFollow"==e&&(r_o[e]=jQuery("[name='botsFollow']:checked").val())}),void(localStorage.r_o=JSON.stringify(r_o))):!1},d.setNick=function(e){d.ga&&d.ga("send","event","Nick",e.toLowerCase()),qb(),I=e,xb(),K=0,sg=!1,"true"==localStorage.rO&&rememberAllOptions(),hasAdblock||d.googletag.pubads().refresh(d.ap)},d.setRegion=ra;var Na=!0;d.setSkins=function(e){hb=e},d.setNames=function(e){Ha=e},d.setDarkTheme=function(e){Ea=e},d.setColors=function(e){ib=e},d.setShowMass=function(e){Kb=e},d.spectate=function(){I=null,H(1),qb(),sg=!0},d.setGameMode=function(t){t!=P&&(":party"==P&&e("#helloContainer").attr("data-party-state","0"),ga(t),":party"!=t&&N())},d.setAcid=function(e){bb=e},d.setShowOthersMass=function(e){sOM=e},d.setShowBorders=function(e){sB=e},d.setExtraZoom=function(e){eZ=e},d.setExtendedColors=function(e){eC=e},d.setSkinTransparency=function(e){sT=e},d.setGreenFood=function(e){gF=e},d.setLargeNames=function(e){lN=e},d.setShowMyRange=function(e){sMR=e},d.setShowOpponentsRange=function(e){sOR=e},d.setShowVirusRange=function(e){sVR=e},d.setVirusTransparency=function(e){nT=e},d.setNoGrid=function(e){nG=e};var _0xd9f3=["runBots","length","val","#token","You must to create a Party first or connect to a private server.","Stop bots","html","[data-itr='run_bots']","onclick","stopBots(); return false;","attr","push","binaryType","arraybuffer","bot","id","onopen","setUint8","setUint32","buffer","send","charCodeAt","onmessage","#botsNick","setNick","[name='botsFollow']:checked","mouse","x","y","setDirection","onclose","splice","onerror","undefined","setUint16","setInt32"];d[_0xd9f3[0]]=function(e,t){if(jQuery(_0xd9f3[3])[_0xd9f3[2]]()[_0xd9f3[1]]>8)return alert(_0xd9f3[4]),!1;for(mAB=jQuery(_0xd9f3[3])[_0xd9f3[2]]()[_0xd9f3[1]]>0?25:10,jQuery(_0xd9f3[7])[_0xd9f3[6]](_0xd9f3[5]),jQuery(_0xd9f3[7])[_0xd9f3[10]](_0xd9f3[8],_0xd9f3[9]),bots=[],currentServer=e,i=0;i<mAB;i++)bots[_0xd9f3[11]](new WebSocket(e)),bots[i][_0xd9f3[12]]=_0xd9f3[13],bots[i][_0xd9f3[14]]=i,bots[i][_0xd9f3[15]]=null,bots[i][_0xd9f3[16]]=function(){a=new DataView(new ArrayBuffer(5)),a[_0xd9f3[17]](0,254),a[_0xd9f3[18]](1,5,!0),this[_0xd9f3[20]](a[_0xd9f3[19]]),a=new DataView(new ArrayBuffer(5)),a[_0xd9f3[17]](0,255),a[_0xd9f3[18]](1,154669603,!0),this[_0xd9f3[20]](a[_0xd9f3[19]]),a=new DataView(new ArrayBuffer(1+t[_0xd9f3[1]])),a[_0xd9f3[17]](0,80);for(var e=0;e<t[_0xd9f3[1]];++e)a[_0xd9f3[17]](e+1,t[_0xd9f3[21]](e));this[_0xd9f3[20]](a[_0xd9f3[19]])},bots[i][_0xd9f3[22]]=function(){playing()&&(this[_0xd9f3[24]](jQuery(_0xd9f3[23])[_0xd9f3[2]]()),xx=jQuery(_0xd9f3[25])[_0xd9f3[2]]()==_0xd9f3[26]?sa:localStorage[_0xd9f3[27]],yy=jQuery(_0xd9f3[25])[_0xd9f3[2]]()==_0xd9f3[26]?ta:localStorage[_0xd9f3[28]],this[_0xd9f3[29]](xx,yy))},bots[i][_0xd9f3[30]]=function(){bots[_0xd9f3[31]](this[_0xd9f3[14]],1)},bots[i][_0xd9f3[32]]=function(){bots[_0xd9f3[31]](this[_0xd9f3[14]],1)},bots[i][_0xd9f3[24]]=function(e){if(typeof bots[this[_0xd9f3[14]]]==_0xd9f3[33])return!1;var t=new DataView(new ArrayBuffer(1+2*e[_0xd9f3[1]]));t[_0xd9f3[17]](0,0);for(var a=0;a<e[_0xd9f3[1]];++a)t[_0xd9f3[34]](1+2*a,e[_0xd9f3[21]](a),!0);bots[this[_0xd9f3[14]]][_0xd9f3[20]](t[_0xd9f3[19]])},bots[i][_0xd9f3[29]]=function(e,t){return typeof bots[this[_0xd9f3[14]]]==_0xd9f3[33]?!1:(a=new DataView(new ArrayBuffer(13)),a[_0xd9f3[17]](0,16),a[_0xd9f3[35]](1,e,!0),a[_0xd9f3[35]](5,t,!0),a[_0xd9f3[18]](9,0,!0),void bots[this[_0xd9f3[14]]][_0xd9f3[20]](a[_0xd9f3[19]]))}},d.stopBots=function(){if("undefined"!=typeof bots)for(i=0;i<bots.length;i++)bots[i].close();bots=[],jQuery("[data-itr='run_bots']").html(i18n.run_bots||i18n_dict.en.run_bots||"Run bots"),jQuery("[data-itr='run_bots']").attr("onclick","runBots(jQuery('#serverIP').val(), jQuery('#token').val()); return false;")},d.setRememberOptions=function(e){rO=e,rO&&rememberAllOptions(),localStorage.rO=e},d.setCellForSpectating=function(){cTF=prompt("What cell do You want to follow?\r\nPress Cancel to disable following the cell."),null!=cTF?(uTF=cTF,gCTF(""),spectate()):deleteCellForSpectating()},null!=d.localStorage&&(null==d.localStorage.AB9&&(d.localStorage.AB9=0+~~(100*Math.random())),Lb=+d.localStorage.AB9,d.ABGroup=Lb),e.get(gb+"//gc.agar.io",function(e){var t=e.split(" ");e=t[0],t=t[1]||"",-1==["UA"].indexOf(e)&&Nb.push("ussr"),na.hasOwnProperty(e)&&("string"==typeof na[e]?y||ra(na[e]):na[e].hasOwnProperty(t)&&(y||ra(na[e][t])))},"text");var Oa=!0,Rb=0,na={AF:"JP-Tokyo",AX:"EU-London",AL:"EU-London",DZ:"EU-London",AS:"SG-Singapore",AD:"EU-London",AO:"EU-London",AI:"US-Atlanta",AG:"US-Atlanta",AR:"BR-Brazil",AM:"JP-Tokyo",AW:"US-Atlanta",AU:"SG-Singapore",AT:"EU-London",AZ:"JP-Tokyo",BS:"US-Atlanta",BH:"JP-Tokyo",BD:"JP-Tokyo",BB:"US-Atlanta",BY:"EU-London",BE:"EU-London",BZ:"US-Atlanta",BJ:"EU-London",BM:"US-Atlanta",BT:"JP-Tokyo",BO:"BR-Brazil",BQ:"US-Atlanta",BA:"EU-London",BW:"EU-London",BR:"BR-Brazil",IO:"JP-Tokyo",VG:"US-Atlanta",BN:"JP-Tokyo",BG:"EU-London",BF:"EU-London",BI:"EU-London",KH:"JP-Tokyo",CM:"EU-London",CA:"US-Atlanta",CV:"EU-London",KY:"US-Atlanta",CF:"EU-London",TD:"EU-London",CL:"BR-Brazil",CN:"CN-China",CX:"JP-Tokyo",CC:"JP-Tokyo",CO:"BR-Brazil",KM:"EU-London",CD:"EU-London",CG:"EU-London",CK:"SG-Singapore",CR:"US-Atlanta",CI:"EU-London",HR:"EU-London",CU:"US-Atlanta",CW:"US-Atlanta",CY:"JP-Tokyo",CZ:"EU-London",DK:"EU-London",DJ:"EU-London",DM:"US-Atlanta",DO:"US-Atlanta",EC:"BR-Brazil",EG:"EU-London",SV:"US-Atlanta",GQ:"EU-London",ER:"EU-London",EE:"EU-London",ET:"EU-London",FO:"EU-London",FK:"BR-Brazil",FJ:"SG-Singapore",FI:"EU-London",FR:"EU-London",GF:"BR-Brazil",PF:"SG-Singapore",GA:"EU-London",GM:"EU-London",GE:"JP-Tokyo",DE:"EU-London",GH:"EU-London",GI:"EU-London",GR:"EU-London",GL:"US-Atlanta",GD:"US-Atlanta",GP:"US-Atlanta",GU:"SG-Singapore",GT:"US-Atlanta",GG:"EU-London",GN:"EU-London",GW:"EU-London",GY:"BR-Brazil",HT:"US-Atlanta",VA:"EU-London",HN:"US-Atlanta",HK:"JP-Tokyo",HU:"EU-London",IS:"EU-London",IN:"JP-Tokyo",ID:"JP-Tokyo",IR:"JP-Tokyo",IQ:"JP-Tokyo",IE:"EU-London",IM:"EU-London",IL:"JP-Tokyo",IT:"EU-London",JM:"US-Atlanta",JP:"JP-Tokyo",JE:"EU-London",JO:"JP-Tokyo",KZ:"JP-Tokyo",KE:"EU-London",KI:"SG-Singapore",KP:"JP-Tokyo",KR:"JP-Tokyo",KW:"JP-Tokyo",KG:"JP-Tokyo",LA:"JP-Tokyo",LV:"EU-London",LB:"JP-Tokyo",LS:"EU-London",LR:"EU-London",LY:"EU-London",LI:"EU-London",LT:"EU-London",LU:"EU-London",MO:"JP-Tokyo",MK:"EU-London",MG:"EU-London",MW:"EU-London",MY:"JP-Tokyo",MV:"JP-Tokyo",ML:"EU-London",MT:"EU-London",MH:"SG-Singapore",MQ:"US-Atlanta",MR:"EU-London",MU:"EU-London",YT:"EU-London",MX:"US-Atlanta",FM:"SG-Singapore",MD:"EU-London",MC:"EU-London",MN:"JP-Tokyo",ME:"EU-London",MS:"US-Atlanta",MA:"EU-London",MZ:"EU-London",MM:"JP-Tokyo",NA:"EU-London",NR:"SG-Singapore",NP:"JP-Tokyo",NL:"EU-London",NC:"SG-Singapore",NZ:"SG-Singapore",NI:"US-Atlanta",NE:"EU-London",NG:"EU-London",NU:"SG-Singapore",NF:"SG-Singapore",MP:"SG-Singapore",NO:"EU-London",OM:"JP-Tokyo",PK:"JP-Tokyo",PW:"SG-Singapore",PS:"JP-Tokyo",PA:"US-Atlanta",PG:"SG-Singapore",PY:"BR-Brazil",PE:"BR-Brazil",PH:"JP-Tokyo",PN:"SG-Singapore",PL:"EU-London",PT:"EU-London",PR:"US-Atlanta",QA:"JP-Tokyo",RE:"EU-London",RO:"EU-London",RU:"RU-Russia",RW:"EU-London",BL:"US-Atlanta",SH:"EU-London",KN:"US-Atlanta",LC:"US-Atlanta",MF:"US-Atlanta",PM:"US-Atlanta",VC:"US-Atlanta",WS:"SG-Singapore",SM:"EU-London",ST:"EU-London",SA:"EU-London",SN:"EU-London",RS:"EU-London",SC:"EU-London",SL:"EU-London",SG:"JP-Tokyo",SX:"US-Atlanta",SK:"EU-London",SI:"EU-London",SB:"SG-Singapore",SO:"EU-London",ZA:"EU-London",SS:"EU-London",ES:"EU-London",LK:"JP-Tokyo",SD:"EU-London",SR:"BR-Brazil",SJ:"EU-London",SZ:"EU-London",SE:"EU-London",CH:"EU-London",SY:"EU-London",TW:"JP-Tokyo",TJ:"JP-Tokyo",TZ:"EU-London",TH:"JP-Tokyo",TL:"JP-Tokyo",TG:"EU-London",TK:"SG-Singapore",TO:"SG-Singapore",TT:"US-Atlanta",TN:"EU-London",TR:"TK-Turkey",TM:"JP-Tokyo",TC:"US-Atlanta",TV:"SG-Singapore",UG:"EU-London",UA:"EU-London",AE:"EU-London",GB:"EU-London",US:"US-Atlanta",UM:"SG-Singapore",VI:"US-Atlanta",UY:"BR-Brazil",UZ:"JP-Tokyo",VU:"SG-Singapore",VE:"BR-Brazil",VN:"JP-Tokyo",WF:"SG-Singapore",EH:"EU-London",YE:"JP-Tokyo",ZM:"EU-London",ZW:"EU-London"},R=null;d.connect=Pa;var wa=500,Ab=-1,Bb=-1;d.refreshPlayerInfo=function(){H(253)};var A=null,G=1,Fa=null,nb=function(){var e=Date.now(),t=1e3/60;return function(){d.requestAnimationFrame(nb);var a=Date.now(),n=a-e;n>t&&(e=a-n%t,!aa()||240>Date.now()-wb?Cb():console.warn("Skipping draw"),ic())}}(),ba={},Nb="poland;usa;china;russia;canada;australia;spain;brazil;germany;ukraine;france;sweden;chaplin;north korea;south korea;japan;united kingdom;earth;greece;latvia;lithuania;estonia;finland;norway;cia;maldivas;austria;nigeria;reddit;yaranaika;confederate;9gag;indiana;4chan;italy;bulgaria;tumblr;2ch.hk;hong kong;portugal;jamaica;german empire;mexico;sanik;switzerland;croatia;chile;indonesia;bangladesh;thailand;iran;iraq;peru;moon;botswana;bosnia;netherlands;european union;taiwan;pakistan;hungary;satanist;qing dynasty;matriarchy;patriarchy;feminism;ireland;texas;facepunch;prodota;cambodia;steam;piccolo;ea;india;kc;denmark;quebec;ayy lmao;sealand;bait;tsarist russia;origin;vinesauce;stalin;belgium;luxembourg;stussy;prussia;8ch;argentina;scotland;sir;romania;belarus;wojak;doge;nasa;byzantium;imperial japan;french kingdom;somalia;turkey;mars;pokerface;8;irs;receita federal;facebook;putin;merkel;tsipras;obama;kim jong-un;dilma;hollande;berlusconi;cameron;clinton;hillary;venezuela;blatter;chavez;cuba;fidel;merkel;palin;queen;boris;bush;trump".split(";"),jc="8;nasa;putin;merkel;tsipras;obama;kim jong-un;dilma;hollande;berlusconi;cameron;clinton;hillary;blatter;chavez;fidel;merkel;palin;queen;boris;bush;trump".split(";"),ma={};db.prototype={N:null,x:0,y:0,d:0,b:0},$.prototype={id:0,a:null,name:null,i:null,F:null,x:0,y:0,size:0,l:0,m:0,k:0,w:0,A:0,h:0,R:0,I:0,T:0,u:!1,c:!1,g:!1,J:!0,Q:0,G:null,P:function(){var e;for(e=0;e<u.length;e++)if(u[e]==this){u.splice(e,1);break}delete J[this.id],e=l.indexOf(this),-1!=e&&(Wa=!0,l.splice(e,1)),e=z.indexOf(this.id),-1!=e&&z.splice(e,1),this.u=!0,0<this.Q&&Y.push(this)},f:function(){return Math.max(~~(.3*this.size),24)},q:function(e){(this.name=e)&&(null==this.i?this.i=new Ga(this.f(),"#FFFFFF",!0,"#000000"):this.i.C(this.f()),this.i.r(this.name))},O:function(){for(var e=this.v();this.a.length>e;){var t=~~(Math.random()*this.a.length);this.a.splice(t,1)}for(0==this.a.length&&e>0&&this.a.push(new db(this,this.x,this.y,this.size,Math.random()-.5));this.a.length<e;)t=~~(Math.random()*this.a.length),t=this.a[t],this.a.push(new db(this,t.x,t.y,t.d,t.b))},v:function(){var e=10;20>this.size&&(e=0),this.c&&(e=30);var t=this.size;return this.c||(t*=g),t*=G,32&this.R&&(t*=.25),~~Math.max(t,e)},ba:function(){this.O();for(var e=this.a,t=e.length,a=0;t>a;++a){var n=e[(a-1+t)%t].b,o=e[(a+1)%t].b;e[a].b+=(Math.random()-.5)*(this.g?3:1),e[a].b*=.7,10<e[a].b&&(e[a].b=10),-10>e[a].b&&(e[a].b=-10),e[a].b=(n+o+8*e[a].b)/10}for(var i=this,r=this.c?0:(this.id/1e3+F/1e4)%(2*Math.PI),a=0;t>a;++a){var l=e[a].d,n=e[(a-1+t)%t].d,o=e[(a+1)%t].d;if(15<this.size&&null!=da&&20<this.size*g&&0<this.id){var s=!1,d=e[a].x,f=e[a].y;da.ca(d-5,f-5,10,10,function(e){e.N!=i&&25>(d-e.x)*(d-e.x)+(f-e.y)*(f-e.y)&&(s=!0)}),!s&&(e[a].x<za||e[a].y<Aa||e[a].x>Ba||e[a].y>Ca)&&(s=!0),s&&(0<e[a].b&&(e[a].b=0),e[a].b-=1)}l+=e[a].b,0>l&&(l=0),l=this.g?(19*l+this.size)/20:(12*l+this.size)/13,e[a].d=(n+o+8*l)/10,n=2*Math.PI/t,o=this.a[a].d,this.c&&0==a%2&&(o+=5),e[a].x=this.x+Math.cos(n*a+r)*o,e[a].y=this.y+Math.sin(n*a+r)*o}},H:function(){if(0>=this.id)return 1;var e;e=(F-this.I)/120,e=0>e?0:e>1?1:e;var t=0>e?0:e>1?1:e;if(this.f(),this.u&&t>=1){var a=Y.indexOf(this);-1!=a&&Y.splice(a,1)}return this.x=e*(this.w-this.l)+this.l,this.y=e*(this.A-this.m)+this.m,this.size=t*(this.h-this.k)+this.k,t},D:function(){return 0>=this.id?!0:this.x+this.size+40<s-k/2/g||this.y+this.size+40<t-p/2/g||this.x-this.size-40>s+k/2/g||this.y-this.size-40>t+p/2/g?!1:!0},p:function(e){if(this.D()){++this.Q,!sg||!fCE()||uTF!=this.name||gCTF()!=this.color&&""!=gCTF()||this.c||(""==gCTF()&&gCTF(this.color),sa=this.x.toFixed(0),ta=this.y.toFixed(0));var t=0<this.id&&!this.c&&!this.g&&.4>g;if(5>this.v()&&0<this.id&&(t=!0),this.J&&!t)for(var a=0;a<this.a.length;a++)this.a[a].d=this.size;var n=["c","id","indexOf","length","f","j","size","beginPath","x","y","PI","arc","lineWidth","globalAlpha","strokeStyle","color","stroke","fillStyle","#000000","fill","closePath"];if(itsme=!this[n[0]]&&playing()&&0<this[n[1]]&&(-1!=l[n[2]](this)||0==l[n[3]]&&(!this[n[4]]||this[n[5]])&&20<this[n[6]])?!0:!1,mass=this[n[6]]*this[n[6]]/100,mass>9&&(sMRE()||sORE()||sVRE())&&(e[n[7]](),e[n[11]](this[n[8]],this[n[9]],this[n[6]]+810,0,2*Math[n[10]],!1),!this[n[0]]&&(sMRE()&&itsme||!itsme&&(playing()&&mM/mass<.84||!playing())&&sORE())?(e[n[12]]=6,e[n[13]]=.5,e[n[14]]=this[n[15]],e[n[16]](),e[n[13]]=1):this[n[0]]&&sVRE()&&(e[n[17]]=n[18],e[n[13]]=.04,e[n[19]](),e[n[13]]=1),e[n[20]]()),this.J=t,e.save(),this.T=F,a=this.H(),this.u&&(e.globalAlpha*=1-a),e.lineWidth=10,e.lineCap="round",e.lineJoin=this.c?"miter":"round",ib?(e.fillStyle="#FFFFFF",e.strokeStyle="#AAAAAA"):(a=dc(this.G)||this.color,hb&&":teams"!=P||(a=this.color),e.fillStyle=a,e.strokeStyle=a),t)e.beginPath(),e.arc(this.x,this.y,this.size+5,0,2*Math.PI,!1);else{this.ba(),e.beginPath();var o=this.v();for(e.moveTo(this.a[0].x,this.a[0].y),a=1;o>=a;++a){var i=a%o;e.lineTo(this.a[i].x,this.a[i].y)}}var r=[":teams","r","fillStyle","g","b","max","red","green","blue","#05A34E","strokeStyle","globalAlpha","size","min","","c","#C70808","#B2837F","#05FF4E","#E8920C"];if(getGameMode()==r[0]&&(red=hexToRGB(e[r[2]])[r[1]],green=hexToRGB(e[r[2]])[r[3]],blue=hexToRGB(e[r[2]])[r[4]],team=Math[r[5]](red,green,blue)==red?r[6]:Math[r[5]](red,green,blue)==green?r[7]:r[8]),gFE()&&!ib&&this.size*this.size/100<9&&(e[r[2]]=r[9],e[r[10]]=r[9]),nTE()&this.c&&(e[r[11]]=.9),gMM(itsme?Math[r[13]]((gMM()+this[r[12]]*this[r[12]]/100)/2,this[r[12]]*this[r[12]]/100):gMM()),eCE()&&playing()&&this[r[12]]*this[r[12]]/100>9&&(itsme&&getGameMode()==r[0]&&mT()==r[14]&&mT(Math[r[5]](red,green,blue)==red?r[6]:Math[r[5]](red,green,blue)==green?r[7]:r[8]),gMM()>20?mass+=2.992:!1,itsme||this[r[15]]||getGameMode()===r[0]&&(getGameMode()!=r[0]||mT()===team)||(e[r[10]]=gMM()/mass<.42?r[16]:.84>gMM()/mass>.42?r[17]:mass/gMM()<.42?r[18]:.84>mass/gMM()>.42?r[9]:r[19])),e.closePath(),o=this.name.toLowerCase(),!this.g&&hb&&":teams"!=P?(a=ec(this.G))||(-1!=Nb.indexOf(o)?(ba.hasOwnProperty(o)||(ba[o]=new Image,ba[o].src=d.ASSETS_ROOT+"skins/"+o+".png"),a=0!=ba[o].width&&ba[o].complete?ba[o]:null):a=null):a=null,i=a,t||e.stroke(),e.fill(),null!=i&&(e.save(),e.clip(),a=Math.max(this.size,this.h),sTE()?e.globalAlpha=.75:!1,e.drawImage(i,this.x-a-5,this.y-a-5,2*a+10,2*a+10),e.restore()),(ib||15<this.size)&&!t&&(e.strokeStyle="#000000",e.globalAlpha*=.1,e.stroke()),e.globalAlpha=1,a=-1!=l.indexOf(this),t=~~this.y,0!=this.id&&(Ha||a)&&this.name&&this.i&&(null==i||-1==jc.indexOf(o))){i=this.i,i.r(this.name),i.C(this.f()/(lNE()?.8:1)),o=0>=this.id?1:Math.ceil(10*g)/10,i.S(o);var i=i.B(),s=~~(i.width/o),f=~~(i.height/o);e.drawImage(i,~~this.x-~~(s/2),t-~~(f/2)-(lNE()&&(itsme&&Jb||!itsme&&sOME())?5:0),s,f),t+=i.height/2/o+4}(sOME()&&!itsme&&this.size*this.size/100>9||0<this.id&&Kb&&(a||0==l.length&&(!this.c||this.g)&&20<this.size))&&(null==this.F&&(this.F=new Ga(this.f()/2,"#FFFFFF",!0,"#000000")),a=this.F,a.C(this.f()/(lNE()?1:2)),a.r(~~(this.size*this.size/100)),o=Math.ceil(10*g)/10,a.S(o),i=a.B(),s=~~(i.width/o),f=~~(i.height/o),e.drawImage(i,~~this.x-~~(s/2),t-~~(f/2),s,f)),e.restore()}}},Ga.prototype={t:"",K:"#000000",M:!1,o:"#000000",n:16,j:null,L:null,e:!1,s:1,C:function(e){this.n!=e&&(this.n=e,this.e=!0)},S:function(e){this.s!=e&&(this.s=e,this.e=!0)},setStrokeColor:function(e){this.o!=e&&(this.o=e,this.e=!0)},r:function(e){e!=this.t&&(this.t=e,this.e=!0)},B:function(){if(null==this.j&&(this.j=document.createElement("canvas"),this.L=this.j.getContext("2d")),this.e){this.e=!1;var e=this.j,t=this.L,a=this.t,n=this.s,o=this.n,i=o+"px Ubuntu";t.font=i;var r=~~(.2*o);e.width=(t.measureText(a).width+6)*n,e.height=(o+r)*n,t.font=i,t.scale(n,n),t.globalAlpha=1,t.lineWidth=3,t.strokeStyle=this.o,t.fillStyle=this.K,this.M&&t.strokeText(a,3,o-r/2),t.fillText(a,3,o-r/2)}return this.j}},Date.now||(Date.now=function(){return(new Date).getTime()}),function(){for(var e=["ms","moz","webkit","o"],t=0;t<e.length&&!d.requestAnimationFrame;++t)d.requestAnimationFrame=d[e[t]+"RequestAnimationFrame"],d.cancelAnimationFrame=d[e[t]+"CancelAnimationFrame"]||d[e[t]+"CancelRequestAnimationFrame"];d.requestAnimationFrame||(d.requestAnimationFrame=function(e){return setTimeout(e,1e3/60)},d.cancelAnimationFrame=function(e){clearTimeout(e)})}();var Qb={V:function(e){function t(e){return n>e&&(e=n),e>i&&(e=i),~~((e-n)/32)}function a(e){return o>e&&(e=o),e>r&&(e=r),~~((e-o)/32)}var n=e.Z,o=e.$,i=e.X,r=e.Y,l=~~((i-n)/32)+1,s=~~((r-o)/32)+1,d=Array(l*s);return{W:function(e){var n=t(e.x)+a(e.y)*l;null==d[n]?d[n]=e:Array.isArray(d[n])?d[n].push(e):d[n]=[d[n],e]},ca:function(e,n,o,i,r){var s=t(e),f=a(n);for(e=t(e+o),n=a(n+i);n>=f;++f)for(i=s;e>=i;++i)if(o=d[i+f*l],null!=o)if(Array.isArray(o))for(var c=0;c<o.length;c++)r(o[c]);else r(o)}}}},yb=function(){var e=new $(0,0,0,32,"#ED1C24",""),t=document.createElement("canvas");t.width=32,t.height=32;var a=t.getContext("2d");return function(){0<l.length&&(e.color=l[0].color,e.q(l[0].name)),a.clearRect(0,0,32,32),a.save(),a.translate(16,16),a.scale(.4,.4),e.p(a),a.restore();var n=document.getElementById("favicon"),o=n.cloneNode(!0);o.setAttribute("href",t.toDataURL("image/png")),n.parentNode.replaceChild(o,n)}}();e(function(){yb()});var W="loginCache3",Ib=0;d.checkSocialAPIToken=function(t){e.ajax(ea+"checkToken",{error:function(){C=null,eb(t)},success:function(e){e=e.split("\n"),Z({level:+e[0],xp:+e[1],xpNeeded:+e[2]})},dataType:"text",method:"POST",cache:!1,crossDomain:!0,data:C})},d.getSocialAPIToken=function(){e.ajax(ea+"facebookLogin",{error:function(){C=null,e("#helloContainer").attr("data-logged-in","0")},success:gc,dataType:"text",method:"POST",cache:!1,crossDomain:!0,data:d.localStorage.fbTokenCache})},d.facebookLogin=function(){d.localStorage.wannaLogin=1},d.checkLoginStatus=function(){if(d.gameServerLogin(),+d.localStorage.wannaLogin){var e=d.localStorage.fbTokenCache;e&&(delete d.localStorage.wannaLogin,d.MC.doLoginWithFB(e,!0))}},d.fbAsyncInit=function(){function e(){d.localStorage.wannaLogin=1,null==d.FB?alert("You seem to have something blocking Facebook on your browser, please check for any extensions"):d.FB.login(function(e){eb(e)},{scope:"public_profile, email"})}d.FB.init({appId:Q.fb_app_id,cookie:!0,xfbml:!0,status:!0,version:"v2.2"}),d.FB.Event.subscribe("auth.statusChange",function(t){console.log("window.localStorage['wannaLogin'] = "+d.localStorage.wannaLogin),+d.localStorage.wannaLogin&&("connected"==t.status?eb(t):(console.log("user not connected, facebookLogin()"),e()))}),d.facebookRelogin=e,d.facebookLogin=e},d.logout=function(){C=null,e("#helloContainer").attr("data-logged-in","0"),e("#helloContainer").attr("data-has-account-data","0"),delete d.localStorage.wannaLogin,delete d.localStorage[W],delete d.localStorage.fbPictureCache,delete d.localStorage.fbTokenCache,N(),d.MC.doLogout()},d.gameServerLogin=function(){if(+d.localStorage.wannaLogin){var t=d.localStorage[W];t&&Hb(t),d.localStorage.fbPictureCache&&e(".agario-profile-picture").attr("src",d.localStorage.fbPictureCache)}},e(function(){d.localStorage[W]&&(d.facebookLogin(),d.gameServerLogin())});var ic=function(){function t(e,t,a,n,o){var i=t.getContext("2d"),r=t.width;t=t.height,e.color=o,e.q(a),e.size=n,i.save(),i.translate(r/2,t/2),e.p(i),i.restore()}for(var a=new $(-1,0,0,32,"#5bc0de",""),n=new $(-1,0,0,32,"#5bc0de",""),o="#0791ff #5a07ff #ff07fe #ffa507 #ff0774 #077fff #3aff07 #ff07ed #07a8ff #ff076e #3fff07 #ff0734 #07ff20 #ff07a2 #ff8207 #07ff0e".split(" "),i=[],r=0;r<o.length;++r){var l=r/o.length*12,s=30*Math.sqrt(r/o.length);i.push(new $(-1,Math.cos(l)*s,Math.sin(l)*s,10,o[r],""))}fc(i);var d=document.createElement("canvas");return d.getContext("2d"),d.width=d.height=70,t(n,d,"",26,"#ebc0de"),function(){e(".cell-spinner").filter(":visible").each(function(){var n=e(this),o=Date.now(),i=this.width,r=this.height,l=this.getContext("2d");l.clearRect(0,0,i,r),l.save(),l.translate(i/2,r/2);for(var s=0;10>s;++s)l.drawImage(d,(.1*o+80*s)%(i+140)-i/2-70-35,r/2*Math.sin((.001*o+s)%Math.PI*2)-35,70,70);l.restore(),(n=n.attr("data-itr"))&&(n=ha(n)),t(a,this,n||"",+e(this).attr("data-size"),"#5bc0de")}),e("#statsPellets").filter(":visible").each(function(){e(this);var a=this.width,n=this.height;for(this.getContext("2d").clearRect(0,0,a,n),a=0;a<i.length;a++)t(i[a],this,"",i[a].size,i[a].color)})}}();d.createParty=function(){ga(":party"),R=function(t){fb("/#"+d.encodeURIComponent(t)),e(".partyToken").val("agar.io/#"+d.encodeURIComponent(t)),e("#helloContainer").attr("data-party-state","1")},N()},d.joinParty=pb,d.cancelParty=function(){fb("/"),e("#helloContainer").attr("data-party-state","0"),ga(""),N()};var x=[],Xa=0,Ya="#000000",X=!1,va=!1,Za=0,ab=0,$a=0,Da=0,V=0,zb=!0;setInterval(function(){va&&x.push(Eb()/100)},1e3/60),setInterval(function(){var e=hc();0!=e&&(++$a,0==V&&(V=e),V=Math.min(V,e))},1e3),d.closeStats=function(){X=!1,e("#stats").hide(),rb(d.ab),qa(0)},d.setSkipStats=function(e){zb=!e},e(function(){e(Ob)});var _0xa5fd=["rO","You need to enable localStorage or download a new browser to remember options.","log","true","checked","input","parent","[data-itr='option_remember_options']","r_o","undefined","option_green_food","parse","cell","","stringify","isJSON","botsFollow","boolean","[data-itr='","']","onchange","attr","option_no_names","option_no_skins","!","(","indexOf","substr",");","d.","nick","val","#nick","botsNick","#botsNick","mouse","removeAttr","[name='botsFollow']:first","[name='botsFollow']:nth(1)","each"];jQuery(function(){if(rO=localStorage[_0xa5fd[0]],localStorage){if(rO==_0xa5fd[3]){if(jQuery(_0xa5fd[5],jQuery(_0xa5fd[7])[_0xa5fd[6]]())[0][_0xa5fd[4]]=!0,typeof localStorage[_0xa5fd[8]]!=_0xa5fd[9]&&isJSON(localStorage[_0xa5fd[8]])&&typeof JSON[_0xa5fd[11]](localStorage[_0xa5fd[8]])[_0xa5fd[10]]!=_0xa5fd[9]||(default_r_o={option_no_skins:!1,option_no_names:!1,option_no_colors:!1,option_show_mass:!1,option_dark_theme:!1,option_skip_stats:!1,option_show_borders:!1,option_extra_zoom:!1,option_green_food:!1,option_show_others_mass:!1,option_extended_colors:!1,option_75_skin_transparency:!1,option_virus_transparency:!1,option_large_names:!1,option_no_grid:!1,option_show_my_range:!1,option_show_opponents_range:!1,option_show_virus_range:!1,botsFollow:_0xa5fd[12],nick:_0xa5fd[13],botsNick:_0xa5fd[13]},localStorage[_0xa5fd[8]]=JSON[_0xa5fd[14]](default_r_o)),!d[_0xa5fd[15]](localStorage[_0xa5fd[8]]))return;r_o=JSON[_0xa5fd[11]](localStorage[_0xa5fd[8]]),jQuery[_0xa5fd[39]](r_o,function(_0xb434x1,_0xb434x2){void 0==_0xb434x2&&_0xb434x1==_0xa5fd[16]?_0xb434x2==_0xa5fd[12]:void 0==_0xb434x2&&(_0xb434x2=!1),typeof _0xb434x2==_0xa5fd[17]?(jQuery(_0xa5fd[5],jQuery(_0xa5fd[18]+_0xb434x1+_0xa5fd[19])[_0xa5fd[6]]())[0][_0xa5fd[4]]=_0xb434x2,fnc=jQuery(_0xa5fd[5],jQuery(_0xa5fd[18]+_0xb434x1+_0xa5fd[19])[_0xa5fd[6]]())[_0xa5fd[21]](_0xa5fd[20]),fnf=_0xb434x1==_0xa5fd[22]||_0xb434x1==_0xa5fd[23]?_0xa5fd[24]:_0xa5fd[13],fnc=fnc[_0xa5fd[27]](0,fnc[_0xa5fd[26]](_0xa5fd[25]))+_0xa5fd[25]+fnf+_0xb434x2+_0xa5fd[28],eval(_0xa5fd[29]+fnc)):_0xb434x1==_0xa5fd[30]?jQuery(_0xa5fd[32])[_0xa5fd[31]](r_o[_0xa5fd[30]]):_0xb434x1==_0xa5fd[33]?jQuery(_0xa5fd[34])[_0xa5fd[31]](r_o[_0xa5fd[33]]):_0xb434x1==_0xa5fd[16]&&(r_o[_0xa5fd[16]]==_0xa5fd[35]?(jQuery(_0xa5fd[37])[_0xa5fd[36]](_0xa5fd[4]),jQuery(_0xa5fd[38])[_0xa5fd[21]](_0xa5fd[4],_0xa5fd[13])):(jQuery(_0xa5fd[38])[_0xa5fd[36]](_0xa5fd[4]),jQuery(_0xa5fd[37])[_0xa5fd[21]](_0xa5fd[4],_0xa5fd[13])))})}}else console[_0xa5fd[2]](_0xa5fd[1])})}}}}(window,window.jQuery);